\chapter{Introdução}
\label{ch:introducao}
\section{Objetivos}
\label{ch:objetivos}

Esta dissertação tem como objetivo, formalizar a integração dos módulos já desenvolvidos (ver figura \ref{fig:estrutura_atual}), para a definitiva automatização do processo de análise de uma nova área de interesse, e adicionar à arquitetura existente a capacidade de coletar dados in-situ, característica principal de um projeto de ciência cidadã do tipo de sensoriamento voluntário, utilizando-se de dispositivos móveis utilizados pelos voluntários.

\subsection{Objectivos Específicos}
\label{ch:objetivos:especificos}

Os objetivos específicos desta pesquisa são:

\begin{enumerate}
    \item Validar o conceito de sensoriamento voluntário.

    \item Propor e desevolver um módulo de sensoriamento voluntário.

    \item Integrar o módulo de sensoriamento voluntário junto ao projeto \textit{ForestWatchers}.

\end{enumerate}

\section{Organização do Documento}
\label{ch:organizacao}
Este documento está organizado da seguinte forma: O Capítulo \ref{ch:monitoramento_florestas} é feita a revisão bibliográfica das ferramentas de monitoramento de florestas criado pelo INPE e suas metodologias. Uma revisão do tópico de ciência cidadã é abordado no Capítulo \ref{ch:ciencia_cidada}, onde é realizada uma comparação com as pesquisas científicas realizadas por voluntários antigamente e nos tempos atuais, conhecida por ciencia cidadã moderna. No Capítulo \ref{ch:forestwatchers} é comentado sobre o projeto ForestWatchers, a definição do projeto, a metodologia empregada e as aplicações feitas por este. As metodologias e resultados deste trabalho são apresentados no Capítulo \ref{ch:metodologia} e \ref{ch:resultados}, respectivamente. Para finalizar, as conclusões são feitas no Capítulo \ref{ch:conclusoes}.

\chapter{Monitoramento de Florestas}
\label{ch:monitoramento_florestas}

Por mais de duas décadas, o Brasil vem utilizando imagens de satélites (ver figura \ref{fig:comparacao_resourcesat_modis}) para realizar o monitoramento da Amazônia \cite{Monteiro2008}. Estes sistemas, desenvolvidos pelo INPE, tornaram o Brasil uma referência mundial na área \cite{Tollefson2012a}. \citeonline{Kintisch2007} afirma que esse sistema é motivo de admiração mundial por ser capaz de informar anualmente as estimativas de taxas de desmatamento na Amazônia, além de emitir alertas semanais para as autoridades pertinentes. Os principais sistemas utilizados pelo INPE na tarefa de monitorar o desmatamento são descritos nas seções a seguir.

\section{PRODES}
\label{ch:prodes}

Em 1988, o Projeto de Monitoramento do Desmatamento na Amazônia Legal (PRODES) foi desenvolvido para fornecer informações sobre a dinâmica anual do desmatamento de cobertura florestal na Amazônia Legal. As estimativas geradas pelo PRODES são anuais devido à complexidade e ao detalhamento necessários para o cálculo da área de desmate. Essas estimativas se baseiam em mapeamento detalhado com um grande conjunto de imagens do tipo LANDSAT (ou equivalente) , que cobrem a Amazônia com baixa frequência temporal (16 e 26 dias, ver figura \ref{fig:swath_width_LANDSAT-NASA}) e com resoluçãoção espacial entre 20 e 30 metros. Esses sensores são capazes de mapear desmatamentos cujas áreas sejam superiores a $6,25$ hectares \cite{Monteiro2008}.

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/swath_width_LANDSAT-NASA.jpg}
    \caption{\textit{Swath} do LANDSAT, largura da cobertura diária realizado pelo LANDSAT, ilustrado no continente Norte Americano. Para obter toda a extensão amazônica é necessário de 16 a 26 dias, dependendo das condições climáticas do local.  }
    \FONTE{\citeonline{NASA}}
    \label{fig:swath_width_LANDSAT-NASA}
\end{figure}

\subsection{Metodologia}
\label{ch:prodes_metodo}

Para realizar o cálculo da taxa de desmatamento as imagens são selecionadas de modo a obter a menor cobertura de nuvens possível, melhor visibilidade com uma adequada qualidade radiométrica\footnote{A resolução radiométrica é dada pelo número de valores digitais representando níveis de cinza, usados para expressar os dados coletados pelo sensor. Quanto maior o número de valores, maior é a resolução radiométrica} e com a data de aquisição das imagens próxima ao período de referência para o cálculo da taxa de desmatamento. Porém, considerando o histórico climatológico da Amazônia, a maioria das imagens não se apresentam livres de nuvens. Por isso é possível utilizar mais de uma imagem (inclusive de outros satélites) para compor as cenas, formando um mosáico (ver figura \ref{fig:prodes_mosaico}). 

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/mosaico_landsat-prodes.png}
    \caption{ Mosaíco formado por imagens LANDSAT a serem utilizadas no sistema PRODES.}
    \FONTE{\citeonline{INPE}}
    \label{fig:prodes_mosaico}
\end{figure}

Após a seleção das imagens, a próxima etapa envolve transformar seus dados radiométricos em componentes de cena (vegetação, solo e sombra), utilizando o Modelo Linear de Mistura Espectral (MLME). As bandas 3, 4 e 5 do sensor TM são utilizadas para estimar a proporção dos componentes solo, vegetação e sombra para cada pixel, formando um sistema de equações lineares que pode ser solucionado pelo método dos mínimos quadrados ponderados. O resultado desse modelo linear é uma imagem-fração, onde se tem três bandas sintéticas com os valores proporcionais de vegetação, solo e sombra. A segmentação\footnote{Segmentação de imagem é uma técnica de agrupamentos de dados onde características espectrais semelhantes são agrupadas.} da imagem-fração é então realizada, ajustando-se os limiares de similaridades e de área. 

Um algoritmo de classificação não-supervisionado de agrupamentos de dados trata as imagens segmentadas, classificando-as de acordo com as classes definidas pelo banco de dados. Como resultado tem-se uma nova imagem \textit{raster} ou vetorial com as áreas desflorestadas. Então, um fotointerprete tem a tarefa de analisar os polígonos temáticos gerados, tomando a decisão se esses devem ser aceitos ou reclassificados. Uma vez essa imagem aceita, uma máscara de desmatamento contendo as áreas de corte raso já detectados é gerada. Essa máscara será utilizada para eliminar desmatamentos antigos, impedindo que sejam identificados novamente.

\section{DETER}
\label{ch:deter}\ref{}

Devido ao tempo necessário para gerar os resultados e por observar apenas áreas de corte raso, o PRODES não pode ser utilizado como um sistema de prevenção. Portanto, a partir de 2004 o Sistema de Detecção de Desmatamento em Tempo Real (DETER) foi implementado para realizar o monitoramento contínuo do desmatamento e da degradação florestal. Esse sistema foi criado para atender ao Governo Federal no Plano de Ação para a Prevenção e Controle do Desmatamento na Amazônia Legal. O principal objetivo desse sistema é de fornecer informações sobre o local e a dimensão aproximada de ocorrências de mudanças na vegetação de modo a agilizar a fiscalização. 

\subsection{Metodologia}
\label{ch:deter_metodo}

As imagens utilizadas por esse sistema são obtidas pelo sensor MODIS (a bordo do satélite TERRA da NASA), que cobre a Amazônia a cada dia e meio (ver figura \ref{fig:swath_width_MODIS-TERRA}. Essa alta resolução temporal reduz as limitações de observação impostas pela cobertura de nuvens da região. Com a máxima resolução espacial limitada em $250$ metros, as imagens desses sensores permitem a detecção de desmatamentos apenas para áreas maiores do que $25$ hectares. O objetivo do DETER é de fornecer indicadores para fiscalização a cada 15 dias, quando as condições de observação são favoráveis. Esse sistema observa diversos estágios de desmatamento para emitir seus alertas, como o de corte raso, degradação florestal de intensidade alta, média e baixa, sendo o último mais difícil devido a resolução das imagens do sensor MODIS \cite{Monteiro2008}.

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/swath_width_MODIS-TERRA.jpg}
    \caption{\textit{Swath} do MODIS, largura da cobertura diária obtida a cada sobrevoo. Para obter toda a extensão amazônica é necessário em média um dia e meio.}
    \FONTE{\citeonline{NASA}}
    \label{fig:swath_width_MODIS-TERRA}
\end{figure}

A aquisição das imagens é feita de forma rápida, uma vez que que o DETER utiliza os produtos baseados em \textit{granules}\footnote{Granules são produtos gerados de uma área particular. Granules não cobrem todo o globo.} dos subconjuntos de resposta rápida da NASA. Esses dados encontram-se prontos para serem utilizados, pois já foram processados, disponibilizados em GeoTIFF, RGB-equivalente, no formato de 8-bits e geograficamente projetados. 

Essas imagens são então carregadas no Sistema de Processamento de Informações Geo-referenciadas (SPRING) para que outros processamentos sejam feitos. Nesta etapa o especialista necessita aplicar um modelo de mistura para separar o que é floresta, solo ou água (ou sombra). Essa etapa é feita selecionando-se certos \textit{pixels} com uma resposta espectral particular. Então, cada imagem é segmentada e classificada. Após a classificação das imagens, o especialista aplica as máscaras dos desflorestamentos anteriores e de hidrografia, com a finalidade de esconder os desmatamentos já conhecidos assim como outras características. 

Na última etapa, o especialista corrige os resultados da segmentação automática, pixel-a-pixel. As vezes é possível que as etapas de classificação e segmentação possam ser colocados de lado, pois o especialista pode extrair todas as informações baseando-se apenas em sua expertise olhando para as imagens do satélite, munido dos arquivos geográficos de desflorestamento e hidrografia.

\begin{figure}[htb]
\includegraphics[width=0.485\textwidth]{figuras/COMPARE_RESOURCESAT.png}
\hfill
\includegraphics[width=0.485\textwidth]{figuras/COMPARE_MODIS.png}
\caption{Comparação de diferentes resoluções espaciais. À esquerda, uma imagem RESOURCESAT com 23,5 m por pixel. À direita, uma imagem MODIS com 250 m por pixel.}
\label{fig:comparacao_resourcesat_modis}
\end{figure}



\chapter{Ciência Cidadã}
\label{ch:ciencia_cidada}

Ciência cidadã é o termo usado para designar projetos no qual voluntários, muitos sem nenhum treinamento científico específico, efetuam ou gerenciam tarefas científicas, tais como a realização de observações, medições ou computação \cite{SoaresSant:2011:EnPoAt}. 

Através do voluntariado de pessoas ordinárias, conhecidas como cientistas cidadão, projetos científicos conseguem obter um quadro maior de colaboradores \cite{Cohn.2008}. Um fator importante em projetos grandes, agilizando o processo de aquisição e divulgação dos resultados. Segundo \citeonline{Silvertown2009}, o cientista cidadão é um voluntário que coleta ou processa dados como parte de uma investigação científica. Cientistas cidadão não são responsáveis, necessariamente, por analisar ou publicar artigos científicos, estes desempenham tarefas simples, mas de grande importância para a conclusão dos trabalhos científicos. Nas últimas décadas, projetos científicos baseados em ciência cidadã ganharam notoriedade, porém esta abordagem não é nova para a comunidade científica. 

Realizar pesquisas cientificas utilizando-se da colaboração de diversos indivíduos vem de tempos remotos. Para ilustrar, A Origem das Espécies é um exemplo de pesquisa científica realizada com a ajuda de diversos colaboradores já em 1830. \citeonline{darwin-origin-of-species-1859}, contou com a ajuda de mais de 2000 colaboradores entre esses, especialistas, biólogos e pesquisadores de diferentes áreas, tendo também a colaboração de cientistas de diferentes áreas.  O projeto \textit{\textbf{Darwin Correspondences}}\footnote{\url{http://www.darwinproject.ac.uk/}} reune mais de 7.500 das cartas que Darwin manteve com seus correspondentes durante sua pesquisa \cite{DarwinProject_Correspondents}. 

Os conteúdos destas cartas variavam de notações científicas sobre algumas espécies, o que requeria um aparato profissional, ou de apenas simples observações, que vieram a colaborar com teoria da evolução das espécies. Naquela época, as cartas demoravam meses para serem recebidas e lidas,  o processo de responder uma carta e obter um novo retorno da mesma pessoa, chegava a levar questões de anos para acontecer. Tudo isto devido a este meio de comunicação não ter as mesmas tecnologias atuais, tornando a tarefa de entregar uma carta hoje em dia simples e comum , um trabalho dificultoso e lento. Naquela época, os serviços de correspondências era feito por mensageiros a pé, a cavalo ou através de charretes, tendo návios à vela para correspondências pelos mares. \citeonline{Hyde1891} relembra que para a determinada época, estes serviços eram caros e não acessível para todos, o que dificultava ainda mais o compartilhamento de ideias. Em 1840, com a grande reforma britânica de postagem,  \textit{Penny Postage} \footnote{A reforma realizada pela \textit{Royal Mail} do Reino Unido cobrava apenas um \textit{Penny}, menor moeda do sistema monetário da época, para entregar as cartas indiferente da distância.}, houve uma maior difusão e uso dos serviços, elevando o envio de cartas de 82.500.000 para 169.000.000 em um ano, mais que o dobro.

\citeonline{Zimmer2011}, comenta que os resultados obtidos no recente trabalho de \citeonline{Silvertown2011} seria uma das formas que Darwin faria ciência hoje através da Internet. Neste trabalho, \citeonline{Silvertown2011} observa mudanças evolucionárias de um continente através de colaboradores que utilizaram um projeto de ciência cidadã moderno, Evolution MegaLab, iniciado em 2008 o projeto contava com colaboradores para enviar informações de duas espécies de caramujos, Cepaea nemoralis and C. hortensis, para realizar um estudo de evolução da espécie observando as diferentes cores de suas cascas.

Um projeto da universidade de Oxford irá investigar o envolvimento do público na ciência do século 19 e 21 \cite{conscicom2014}, receberá o financeamento de quase 2 milhões de libras para realizar seus estudos. Supõe-se que este estudo poderá entender e desenvolver novas ferramentas para trocar informações entre cientistas profissionais e legiões de voluntários \cite{Leicester2013}. 

\section{Ciência Cidadã Moderna}
\label{ch:ciencia_cidada_moderna}

O projeto considerado um dos primeiros de ciência cidadã moderno é o \textit{Christmas Bird Count}. Um projeto antigo e que ainda encontra-se em atividade, o Christmas Bird Count procura contar as diferentes espécies que existem na américa do Norte, suas eventuais mudanças de habitat, entre outras informações. Idealizado em 1900 por Frank Chapman, um famoso ornitólogo do Museu Americano de História Natural, como uma atividade alternativa ao evento de caça aos pássaros existente na época, Chapman publicou diversos livros com os resultados obtidos por este projeto com a ajuda de milhares de voluntários. Estes seguem diversas regras para conduzir a pesquisa durante os 20 dias em que as observações são feitas, de 14 de dezembro a 5 de janeiro de cada ano, só podem ser contabilizados os pássaros que forem avistados ou ouvidos em um diâmetro de 24-km, moradores próximos a estas áreas podem utilizar bebedouros para pássaros para atrair mais espécies e contabilizá-los \cite{Silvertown2009}. Em uma contagem recente milhares de observadores relataram mais de $63$ milhões de pássaros. 

Hoje, o centro de pesquisa que deu origem a este projeto é considerado um dos maiores centros especializados em ciência cidadã com diversos estudos em biologia. Cientistas do laboratório Cornell de Ornitologia universidade de Cornell, lídereres no estudo e conservação dos pássaros, rastreiam projetos que utilizam ciência cidadã para realizar seus estudos. Estes acreditam que trabalhar com cientistas cidadãos é um fenômeno em expansão em todo o mundo \cite{Cohn.2008}. Este laboratório conta com uma comunidade de aproximadamente 200 mil participantes de ciência cidadã.

Ainda há dúvidas se os projetos de ciência cidadã possam gerar resultados confiáveis, uma vez que muitos dos voluntários engajados nas atividades científicas não possuem conhecimento nem mesmo familiarização com as ferramentas de coleta. Esta é uma questão muito pertinente e recorrente do meio. Há evidências \cite{Silvertown2009,Silvertown2011,Cohn.2008} que estes dados produzidos por cidadãos comuns possam sim ser confiáveis. Para isto é necessário que algumas medidas sejam seguidas.

Para alguns tipos de projetos, \citeonline{Cohn.2008} defende que os voluntários devem possuir algum tipo de treinamento básico, para que os dados sejam coletados conforme o solicitados pelos cientistas, assim diretrizes devem ser definidas. Parte dessas diretrizes devem limitar o trabalho do voluntário, especificando um determinado foco de coleta, por exemplo. Esta especificação evita diversos ruídos nos dados e ao comparar a coleta feita entre os voluntários, os dados seguirão a mesma semântica, facilitando a verificação de erros. Há relatos que projetos anteriores baseados em ciência cidadã, possuiam resultados variados por causa destes, ao invés de dados exatos \cite{Cohn.2008}. Solicitar que os voluntários desempenhem trabalhos simples auxilia na exatidão dos dados. 

\cite{Silvertown2009} enumera três fatores cruciais para o aparecimento de projetos de ciência cidadã nos últimos anos. Primeiramente, a Internet como meio de disseminar informações e adquirir dados do público, assim como a tecnologia dos smartphones, onde mais e mais aplicativos destes utilizam diversos sensores para coletar diferentes dados. Segundo fator se deve aos cientistas profissionais perceberem que voluntários são uma fonte sem custos de trabalho e habilidades pessoais como também de poder computacional, projetos que requerem adquirir diversos dados ao longo do globo, necessitam de ajuda, podendo ser de voluntários, para se obter sucesso. Terceiro fator, grandes fundadores de projetos científicos procuram beneficiar projetos que utilizam cientistas cidadãos em seus trabalhos.

Com o aparecimento destes novos projetos, a ciência cidadã moderna pode ser classificadas em três formas, conforme o nível de envolvimento do voluntário e a tecnologia utilizada no projeto (ver figura \ref{fig:pt_citizen_science}).

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/pt_citizen_science.png}
    \caption{A ciência cidadã pode ser classificadas em três formas: computação voluntária, onde os voluntários doam o poder computacional de suas máquinas para pesquisas científicas; pensamento voluntário utilizado em projetos que requerem a cognição dos voltuntários, como classificação de imagens; e sensoriamento voluntário onde a captação de dados é crucial para ter uma pesquisa.}
    \label{fig:pt_citizen_science}
\end{figure}

Estas formas serão introduzidas a seguir.

\section{Computação Voluntária}
\label{ch:computacao_voluntaria}

Recentemente, o número de projetos que se beneficiam de ciência cidadã está aumentando, cada dia há novos projetos surgindo. Estes projetos chamados de ciência cidadã moderno estão se tornando frequente por causa da accebilidade das tecnologias atuais, o que não requer aparatos especializados para realizar as pesquisas. Como mencionado anteriormente, as informações que \citeonline{Darwin1859} utilizou em suas pesquisas foram enviadas através de cartas que demoravam muitos meses. Hoje, com o avanço da internet, voluntários em diferentes partes do mundo podem fornecer diferentes tipos de dados a uma pesquisa. Seja por dispositivos móveis, que uma vez ligados a internet podem fornecer dados de qualquer lugar, ou então por meio de computadores. 

Na década de 80, a internet ainda era apenas um embrião e poucos tinham acesso. Existiam menos de 200,000 servidores espalhados no mundo. Até então não existiam páginas para serem navegadas, a principal forma de troca de mensagem era através de e-mail, criado em 1977 \cite{HistoryOfInternet:David,HistoryOfInternet:Anthony}, outros meios eram por telnet e IRC, apenas. Só no início da década de 90 que as primeiras páginas de internet foram criadas, após a definição do \textit{WWW}\footnote{World-Wide Web} criado por \citeonline{berners1992world}. A internet estava tornando-se popular, com seus aproximados 1 milhão de servidores e suas 50 páginas de internet.

Com a popularização da internet, iniciou-se a aparição de projetos notáveis da ciência cidadã moderna. Os computadores desta época eram caros e possuiam pouco poder computacional, apenas grandes indústrias e universidades tinham acesso a máquinas de grande desempenho. Neste período, surgiram os primeiros projetos de computação voluntária, onde os voluntários doavam o tempo de processamento ocioso de suas máquinas a projetos que necessitavam de grande poder computacional para trabalhar em cima dos seus dados. O conceito desta forma de projeto era de dividir a grande massa de dados existente em pequenas porções que fossem possíveis para os voluntários efetuar downloads, visto que naquela época não havia internet de banda larga. A forma de conexão à internet ainda era discada e o modem mais rápido deste período era o de 56k\footnote{56 kilobits por segundo} \cite{AndersonCKLW02}.

No meio da década de 90, surgiu os projetos \textbf{\textit{GIMPS}}\footnote{\textit{\url{http://www.mersenne.org/}-Great Internet Mersenne Prime Search}} e \textbf{\textit{Distributed.net}}\footnote{http://www.distributed.net/}\cite{Anderson1999,AndersonCKLW02,Hayes1998}.

\textit{GIMPS} foi primeiro projeto de computação voluntária de grande porte a ser realizado, \textit{GIMPS}, tinha como objetivo encontrar números primos de Mersenne, nome dado em homenagem ao estudioso Marin Mersenne da teoria dos números. A formula destes números equivale  $ M_n = 2^n -1 $, onde $n$ é um número natural. O desafio de descobrir números de Mersenne está diretamente ligado ao fato destes números serem exponênciais, tendo assim milhares de dígitos em sua composição. Até 1996, início do projeto \textit{GIMPS}, apenas 34 números primos de Mersenne eram conhecidos, logo no primeiro ano do projeto foram descubertos mais dois  números, $ M_{1398269} $ e $M_{2976221}$. O primeiro número possui $852.365$ algoritmos, o segundo $1.814.262$, uma operação que seria impossível para ser realizada por uma pessoa. Ambos foram descobertos na primeira versão do software disponibilizado pelo projeto, sendo calculado por um computador Pentium 90 MHz e Pentium 100MHz, respectivamente. Hoje, há o conhecimento de 48 números de Mersenne, sendo o último número descoberto o $M_{57885161}$ com $17.425.170$ dígitos em 2013, desde o início do projeto foram descobertos 14 destes números \cite{Marsenne:Primes,Hayes1998}.

A \textit{Distributed.net}, lançado em 1997, tinha o principal objetivo de quebrar a criptografia gerada pela empresa RSA, para o desafio \textit{RSA Secret-Key Challenge} que correspondia a uma chave de 56-bit e possuia uma recompensa de $10.000,00$ dólares. O projeto criado por Earle Ady e Christopher G. Stach II, contava com a colaboração de mais de $300.000$ voluntários utilizando o tempo de seus computadores realizando Força Bruta\footnote{Força Bruta é a forma de tentar obter a a resposta de uma senha através de ínumeras tentativas.} em cima de parte do código disponibilizado para o desafio. Em 250 dias a chave foi descoberta, utilizando um poder computacional equivalente a 26 mil \textit{Pentium 200}. Outro desafio com uma chave de 64-bit também foi concluído após 4 anos e o prêmio pago. A empresa de segurança RSA, havia dito que para quebrar uma chave de 64-bit, seria necessário mais de 100 anos testando todas as possibilidades e combinações. Atualmente o projeto está focado em quebrar uma chave de 72-bit \cite{distributed.net:online,Distributed.net:wired}. 

Em 1999, \citeonline{AndersonCKLW02} iniciou um dos primeiros e bem sucedido projeto de ciência cidadã, o objetivo deste projeto era de encontrar vida inteligente no espaço, através da análise de sinais de rádios captadas do espaço, \textit{SETI@Home}. Porém para conseguir analizar esses sinais, o projeto contou com o uso de diferentes computares, todos espalhados pela internet formando um grande sistema distruído de processamento. Os voluntários que se cadastravam no site podiam fazer download de um aplicativo que só era ativado quado o computador estava em modo ocioso, o aplicativo recebia pacotes de sinais a serem analizados e no fim do processamento enviava os resultados obtidos ao servidor do projeto.

\section{Pensamento Voluntário}
\label{ch:pensamnto_voluntario}

\cite{Anderson1999}, a frente do projeto \textit{SETI@Home}, iniciou o desenvolvimento de uma nova ferramenta para diminuir as barreiras que ele havia encontrado ao longo do desenvolvimento de seu projeto, viabilizando assim novas iniciativas para utilizar computação voluntária de forma rápida e sem grandes conhecimentos de computação. Outra função da ferramenta, BOINC\footnote{Berkeley Open Infrastructure for Network Computing}, era de avaliar a exatidão e veracidade dos dados antes de enviá-los aos servidores dos projetos \cite{anderson2003public}. Esta ferramenta já foi utilizada por mais de 150 projetos, tendo atualmente 70 projetos online. Estes fatos só foram alcançados pela acessibilidade que novos projetos do tipo de computação voluntária tiveram com a criação da nova ferramenta e também pela visibilidade que a ferramenta deu aos projetos deste porte.

No fim da década de 90, \citeonline{dinucci1999fragmented} cunhou o termo \textit{Web 2.0} dizendo que a internet até então não tinha mostrado o seu real potencial. As páginas eram simplesmentes recursos estáticos onde a navegação era composta de uma simples requisição a este recurso e o recurso era então exibido na tela dos computadores da época. A revolução da \textit{Web 2.0} seria marcada pela interatividade do conteúdo, permitindo a qualquer pessoa utilizando de um computador ou dispositivo móvel, não mais carregar um simples recurso estático, mas sim o poder de interagir com este recurso, expressando ideias e adicionando novas informações a \textit{Web}. Diversas novas ferramentas foram criadas nesta nova era. Diferentes tipos de \textit{blogs}, \textit{wikis} e páginas de internet repletos de conteúdos dinâmicos.

Além da ferramenta \textit{BOINC} realizar verificações redundantes para melhorar a exatidão dos resultados, esta também era uma plataforma de pontuação. Na página da ferramenta existem diversas estatísticas dos projetos em andamento, estas estatísticas são atualizadas dinâmicamente conforme os resultados são submetidos pelos voluntários. Uma vez que os novos resultados são submetidos e aprovados, cada voluntário tem o valor da sua contribuição ao projeto calculado novamente. Tendo assim um sistema de creditos, que pontua a participação dos voluntários, destacando os que mais contribuem. Este é considerado o sistema de recompensa dos usuários, levando o projeto a ter cada vez mais voluntários contribuindo com a performance da sua máquina para ganhar notoriedade \cite{Anderson1999}.

Com a possibilidade de conteúdo dinâmico e a interação dos usuários, sugiram novos tipos de projetos que passaram a utilizar a capacidade cognitiva dos voluntários para analisar visualmente determinados dados e em função destes tomar ações. 

Um dos primeiros projetos de pensamento voluntário foi criado para detectar pequenas partículas de poeira interestelar coletada pela mssão \textit{Stardust} da NASA, lançado em 1999 \cite{Stardust:Mission}. Andrew Westpahl, o idealizador do projeto \textit{Stardust@Home} teve a ideia de utilizar a percepção dos usuários para substituir a falta de uma tecnologia de reconhecimento de padrão capaz de encontrar as partículas mínusculas coletada pela missão. Westpahl, estima que levaria mais de um século para sua equipe poder atingir o objetivo do projeto sem a ajuda dos voluntários. Para encontrar as partículas, foi disponibilizado no início do projeto em 2006, 1.6 milhões de imagens na página do projeto, estas imagens recriam a experiência que um cientista exerceria se estivesse analisando as amostras atrás de particulas através de um microscópio, estabelecendo uma melhor imagem ajustando o seu foco. Estas 1.6 milhões de imagens, foram feitas para simular esta função, chamado de ``filmes de foco'', onde diversas imagens foram feitas de um determinado ponto mas utilizando posições diferentes para se ter uma melhor nitidez da imagem ou não. É função do voluntário verificar se esta imagem esta bem focada, verificando a nitidez das imagens disponibilizadas e se há alguma particula presente em alguma destas imagens\cite{Hand2010}. Caso não exista nenhuma imagem focada, o voluntário deve informar através do site esta situação, assim como outras diveras situações que podem acontecer. Para conhecer essas determinadas situações, os voluntários necessitam realizar um treinamento antes de iniciar o seu trabalho de voluntário efetivamente, neste treinamento há dicas e orientações de como proceder. Este tipo de treinamento de qualificação é muito comum em projetos de ciência cidadã \cite{Silvertown2009,Anderson1999}.

Apesar do projeto \textit{Stardust@Home} possuir o sufixo \textit{@Home}, este não utiliza a ferramenta BOINC, idealizada por \citeonline{anderson2003public}. Este sufixo é apenas uma homenagem aos projetos de ciência cidadã, efetuado por estes. Contudo, \citeonline{Anderson1999} estudou o projeto e idealizou uma nova ferramenta para tornar projetos de pensamento voluntário mais comuns, assim como o uso da ferramenta BOINC. BOSSA\footnote{\url{http://boinc.berkeley.edu/trac/wiki/BossaIntro}} é um \textit{middleware} responsável por dividir o trabalho em tarefas menores e atribuí-las aos voluntários, realizando verificações do nível de acertividade das respostas dadas pelos voluntários através de redundância das tarefas. 

Em 2007, iniciou-se o projeto \textit{GalaxyZoo} com o objetivo de classificar imagens de galaxias. As imagens captadas por um telescópio robótico, \textit{Sloan Digital Sky Survey}\footnote{http://www.sdss.org/} era apresentadas para os voluntários e estes haviam de decidir se a imagem continha alguma galáxia, se houvesse, qual era a sua forma eliptica ou espiral, se fosse esta última, ainda havia uma última pergunta, qual o sentido da sua rotação\cite{Hand2010}. Pelo número de imagens que deveriam ser classificadas os cientistas envolvidos acreditavam que iria demorar mais de 2 anos para que todas as imagens fossem classificadas\cite{GalaxyZooAbout}. Porém, com apenas um dia de funcionamento, o \textit{GalaxyZoo} conseguiu reunir 35 mil voluntários que fizeram aproximadamente 1.5 milhões de classificações. \citeonline{Raddick2009b} compara o resultado obtido em um dia com a de um aluno de graduação que em uma semana conseguiu classificar apenas 50 mil galáxias. O projeto classificou perto de um milhão de galáxias utilizando-se de mais de 150 mil voluntários. Em sua segunda versão, o \textbf{GalaxyZoo} contou com mais de 200 mil voluntários para classificar de forma mais detalhada 300 mil galáxias previamente classificadas \cite{willett2013galaxy}. 

\textit{Rosseta@Home} outro importante projeto de ciência cidadã. Quando criado em 2005, este projeto seguia a mesma tendência do \textit{Seti@Home} assim como os demais projetos da família \textit{@Home}, ser mais uma computação voluntária. O objetivo deste projeto é de utilizar o grande poder computacional reunido para prever o enovelamento de proteínas, um processo químico em que a estrutura de uma proteína assume a sua configuração funcional, podendo assim desenvolver novas proteínas para combater diversas doenças. Como os demais projetos da família, os voluntários tinham que executar o instalador do projeto utilizando o BOINC e este só iria entrar em funcionamento quando o computador estivesse ocioso, em modo de protetor de tela. Porém, diversos emails foram enviados ao projeto de voluntários que queriam contribuir mais, dizendo ser possível obter melhores resultados se eles pudessem interagir com o modelo de proteína que estava aparecendo ali no protetor de tela. 

Com isto em mente, David Baker desenvolveu um novo projeto de pensamento voluntário com características de um jogo através da internet, onde os voluntários são os jogadores e precisão achar as melhores soluções para os desafios, utilizando o enovelamento de proteínas \cite{Hand2010}. \textit{Foldit}, lançado em 2008, provou que os voluntários conseguem realizar um melhor trabalho do que um computador. Este é um dos primeiros trabalhos que envolve tanto computação voluntária quanto o pensamento voluntário \cite{Cooper2010}.

Um dos resultados mais significativos, foi alcançado pelos jogadores do projeto \textit{Foldit} em 2011, onde os voluntários resolveram um problema proposto pelos pesquisadores ``jogando'' em apenas 3 semanas. Os cientistas lançaram o desafio a partir do instante em que os métodos automáticos começaram a não retornar bons resultados, ao analisar os resultados dos jogadores, observaram que estes eram suficientemente bons para encontrar uma rápida solução \cite{Khatib2011}.

\citeonline{mcgonigal2011reality} sugere que os problemas atuais poderiam ser solucionados efetivamente de outra forma, através dos jogos. Concientizando pessoas dos problemas reais e inserindo os diversos problemas como contexto dos jogos, os jogadores iriam buscar soluções para estes desafios. Diversos pesquisadores sugerem que construir projetos de ciência com a temática na forma de jogos poderiam atrair ainda mais os voluntários e resolver ainda mais rápido os desafios empregados \cite{Silvertown2009,Hand2010,Khatib2011,Anderson1999,Pereira:2013:NoInUs,Cooper2010,Mansell2012}.

\section{Sensoriamento Voluntário}
\label{ch:sensoriamento_voluntario}

As duas formas de ciência cidadã discutidas anteriormente tem suas vantagens conforme a necessidade do método de pesquisa científica que irá ser executada. Computação voluntária tem maior vantagem para as atividades científicas que requerem grande poder computacional, avaliando grandes quantidades de dados, o que levariam horas para uma pessoa realizar. Já o pensamento voluntário, mostra-se mais eficaz em atividades que requerem o poder cognitivo dos voluntários, como detecções de padrões utilizando inspeção visual.

Algumas vezes, os dados disponíveis para projetos científicos não são suficientes e a coleta de outros tipos de medidas se faz necessária. Adquirir novas fontes de dados não é um simples trabalho, necessita-se de equipes capazes de efetuar as coletas científicas conforme padrões exigidos e ferramentas adequadas para tal.
A realização desta tarefa, porém, se feita apenas pelos cientistas envolvidos diretamente com o projeto, pode se tornar custosa e demorada. Portanto, uma alternativa viável é a utilização de sensoriamento voluntário onde voluntários contribuem com dados, sejam anotações de observações, captação de imagem ou sons de um ambiente. A tecnologia atual permite soluções de menor custo para coletar diversos tipos de dados para serem utilizados em projetos científicos.

O sensoriamento voluntário é uma junção de Informação Geográfica Voluntariada (IGV), termo de \citeonline{Goodchild2007} para descrever as tarefas realizadas por voluntários ao fornecer dados complementares a determinadas localizações geográficas com a finalidade de enriqucer a base de dados, com sensoriamento móvel \cite{Lane2010}, onde pesquisas são conduzidas através de aparelhos móveis dos voluntários utilizando os sensores disponíveis neste. 

\subsection{Informação Geográfica Voluntariada}

\citeonline{Goodchild2007} categoriza de \textbf{informação geográfica voluntariada} o fenômeno que vem atraindo cidadãos de toda parte, a criação de informações geográficas. Tarefa que antigamente era de uso exclusivo das agências oficiais responsáveis por realizar cartografias dos países, porém com o avanço da tecnologia, qualquer pessoa pode ter acesso a ferramentas de edição de mapa online e colaborar com alguma informação geográfica. Seja esta específica sobre um determinado prédio, dado sua latitude e longitude, como também por vastos terrenos, ao descrever uma cidade. Este recente paradigma representa uma dramática inovação e certamente terá grandes impactos aos sistemas de informação geográfica.

Este conceito de criação de dados geográficos por voluntários vem sendo amplamente estudado por diferentes frentes. Para a indústria, o desenvolvimento de plataformas baseado em web onde os usuários possam enviar seus dados. Para o governo, o conceito é estudado para possíveis aplicação em sistemas de alerta a surtos de doenças e monitoramento constante para verificar os impactos ambientais locais causados por mudanças climáticas globais. Para pesquisadores acadêmicos em como adaptar ambientes de sistemas de informação geográficos para utilizar, armazenar e analisar os dados coletados por voluntários \cite{elwood2008volunteered}.

Um marcante projeto de informação geográfica voluntariada, \textit{Wikimapia}, é referência nesta categoria, onde voluntários podem contribuir com novas informações geográficas simplesmente escolhendo um local (através de uma coordenada geográfica) e complementando a informação local \cite{Wikimapia:online}. Possui um objetivo ambicioso de descrever todo o globo terrestre com o máximo de informções geográficas utéis reunidas através do uso de voluntários, organizá-las e disponibilizá-las para diversos outros usos públicos das informação. Através de uma interface simples, figura \ref{fig:wikimapia}, para que os voluntários que não possuam experiências com edição de mapas possam também, de forma rápida e intuitiva, colaborar com o projeto. Foi lançado em maio de 2006 como uma ferramenta similar a wikipedia, onde todos podem editar seu conteúdo, e em pouco tempo diversos voltuntários já haviam se cadastrado, com menos de 3 meses o projeto possuia 1 milhão de novos registros geográficos criados apenas por voluntários. Em julho de 2012 o projeto já atingia a marca de 19 milhões de registros geográficos criados \cite{Wikimapia:history}.

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/wikimapia.png}
    \caption{Modo de inserção de dados do portal wikimapia.}
    %\FONTE{\citeonline{NASA}}
    \label{fig:wikimapia}
\end{figure}

Outro projeto que merece destaque nesta categoria é o renomado \textit{OpenStreetMaps}. Muito parecido com a ferramenta de mapas do Google, mas de forma livre, o OSM possui diferentes características e funcionalidades. Lançado em julho de 2004 e deste então vem atraindo novos voluntários a cada dia, tendo um crescimento constante (ver figura \ref{fig:osm_table}). Construído para que voluntários mantenham sempre os dados geográficos atualizados, assim como o wikimapia, porém o OSM conta diversas funcionalidades para integração dos seus dados a projetos de terceiros, utilizando-se de protocolos abertos e com muitas opções para exportar os dados. 

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/osm_table.PNG}
    \caption{Gráfico do crescimento mensal de usuários registrados e contribuições realizadas ao projeto \textit{OpenStreetMap}.}
    \FONTE{\citeonline{haklay2008openstreetmap}}
    \label{fig:osm_table}
\end{figure}

\subsubsection{Sistemas de Alertas}

Estudos sugerem que este novo conceito de explorar e criar informações geográficas podem levar a um novo paradigma de criação de sistemas de alertas, considerando que cada pessoa como um sensor, há cerca de 6 bilhões de sensores no globo \cite{elwood2008volunteered,Goodchild2007,Gouveia2004,Gouveia2008}. Geralmente, no segundo momento após um desastre como os ocasionados por furacões e tsunamis, é difícil de se ter informações sobre os locais que foram afetados por inúmeras razões, seja por falta de eletricidade, um bom campo de visão para se obter imagens ou equipamentos de comunicação. Porém a população das áreas afetadas conhecem suficientemente bem o local e poderia reportar ou auxiliar atividades como de resgate através de dispositivos móveis utilizando mensagens, imagens e voz. \citeonline{Goodchild2007} reportar que um sistema deste nível há de existir nos próximos anos. Em seu trabalho \citeonline{Schade2011} conclui que dados geográficos obtidos por voluntários podem ser complementares aos dados de sensoriamento remoto.

\subsection{Sensoriamento Móvel}
A era pós-PC, mencionado pela primeira vez por \citeonline{DavidClark2013:bio}, em que estimava que os computadores deixariam de ser o principal dispositivo eletrônico está se tornando realidade. Os computadores pessoais estão sendo descentralizados, como a décadas muitos já previam. Sua utilidade está mais fardada a um \textit{hub} tecnológico, servindo de meio de comunicação com outros dispositivos móveis como smartphones e tablets. 

No início dos anos 90, os celulares eram realidades para pouco, mas diversos fatores alteraram a rota deste para a sua popularização. O avanço da tecnologia permitiu reduzir o tamanho dos componentes eletrônicos e sensores físicos digitais, também a quantidade de energia requerida por esses. 

Diversos tipos de sensores estão cada vez mais presentes em celulares, tornando dispositivos móveis em unidades de coleta de informação de grande precisão. Câmeras e sensores de localização já são frequentes na maioria dos celulares, estes permitem obter a sua localização em qualquer parte do globo terrestre através de \textit{GPS}\footnote{\textbf{G}lobal \textbf{P}ositioning \textbf{S}ystem é um sistema de navegação baseado em uma constelação de 24 satélites.}, sendo alguns modernos integrado com \textit{GLONASS}\footnote{\textbf{GLO}bal \textbf{NA}vigatsionnaya \textbf{S}putnikovaya \textbf{S}istema, um sistema de navegação russo, constituído por uma constelação de 21 satélites}. Há também dispositivos que apresentam sensores de proximidade, giroscópio, magenetômetro, acelerômetro, barômetro e de luz ambiente. Mas sempre há um sensor presente nos celulares, o microfone que em conjunto com os demais sensores supracitados torna-se uma poderosa ferramenta de monitoramento ambiental.

Em recentes relatórios, \citeonline{Gartner2014} aponta que em 2015 os dispositivos móveis (tablets, celulares e smartphones) irão ultrapassar os computadores pessoais (computadores de mesa e portáteis), em quantidade, conforme figura \ref{fig:gartner}.

\begin{figure}[htb]
    \centering
    \includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/gartner2014.png}
    \caption{Relatório Gartner julho/2014}
    \FONTE{\citeonline{Gartner2014}}
    \label{fig:gartner}
\end{figure}

Com esta visão, novos projetos tem surgido com a intenção de utilizar os sensores presentes nos dispositivos móveis como fonte de dados científicos, coletando constantemente informações do dia a dia de quem os utilizam \cite{Lane2010,Burke2006}. 



Por anos a comunidade acadêmica e industrial vem debatendo o uso de dispositivos móveis em pesquisas de sensoriamento, porém sem grandes avanços até datas recentes. \citeonline{Lane2010} atribui esta mudanças aos seguintes fatores:

\begin{enumerate}
    \item Sensores embarcados - utilizados primeiramente como forma de melhorar a experiência de uso para os usuários, como acelerômetro, encontraram novas formas de uso e chamaram a ateção de pesquisadores. Diversos sensores novos estão revolucionando as pesquisas, como GPS e barômetro.
    \item Programáveis - Há uma coleção infinita de documentação na internet de como programar para dispositivos móveis de terceiros. As grandes plataformas de dispositivo móveis, como Apple, Google, e Windows Phone possuem documentações detalhadas, permitindo qualquer pessoa com um pouco de conhecimento de programação aprender a linguagem e desenvolver aplicativos.
    \item Lojas de aplicativo - Os desenvolvedores de aplicativos utilizam o serviço de loja de aplicativo do fabricante correspondente para publicar sua nova criação. Permitindo alcançar diferentes tipos de usuários em toda a parte.
    \item Computação na nuvem - Utilizando-se de computação na nuvem, os dispositivos móveis podem armazenar dados e até efetuar cálculos através de servidores na internet, sem a necessidade de utilizar estas funcionalidades apenas local, proporcionando um grande crescimento de uso e descentralização de dados.
\end{enumerate}


\chapter{ForestWatchers}
\label{ch:forestwatchers}

O projeto ForestWatchers (\url{http://www.forestwatchers.net}) propõe o desenvolvimento e o lançamento de uma iniciativa de ciência cidadã com o objetivo de envolver e integrar cidadãos ao redor do planeta na tarefa de monitorar o desmatamento das florestas tropicais \cite{ForestWatchersDesc}. Estes cidadãos poderão de suas casas, por meio de uma interface \textit{Web}, inspecionar imagens recentes de satélite de áreas de florestas. Estas podem ser de uma reserva indígena na Amazônia, uma floresta nacional em Bornéu ou um parque em Queensland. As imagens são então classificadas em áreas de floresta ou não-floresta, por meio de um algoritmo de classificação supervisionado pelos voluntários na \textit{Web}. Conforme mencionado por \citeonline{Ipeirotis2010}, erros e até mesmo fraude podem ser automaticamente tratados pela redundância do sistema. Para isso, é necessário atrair e manter um grande número de voluntários \cite{Soares:2011:EmCiSc}. Estima-se que cem mil voluntários analisando uma área de 100.000 hectares cada, com um fator de redundância de 20, podem examinar uma área de 500 milhões de hectares, cerca de 40\% a 50\% da área estimada das florestas tropicais do mundo \cite{ForestWatchersDesc}.

O projeto conta com desenvolvedores do Laboratório Associado de Computação e Matemática Aplicada (LAC) do INPE, do \textit{Citizen Cyberscience Centre} (CCC), e do Departamento de Ciência e Tecnologia (DCT) da Universidade Federal de São Paulo (UNIFESP), com apoio do \textit{Open Society Foundations} (OSF), \textit{United Nations Institute for Training and Research} (UNITAR), e \textit{UNITAR's Operational Satellite Application Programme} (UNOSAT).

A seguir, será discutida a metodologia empregada no projeto.

\section{Metodologia}
\label{ch:metodologia}

A metodologia usada neste projeto é inspirada no bem-sucedido programa de detecção de desflorestamento DETER do INPE. Assim, como no sistema DETER, o projeto ForestWatchers também utiliza imagens do sensor MODIS, com resolução de $250$ metros (porém qualquer outro sensor de satélite que forneça suas imagens gratuitamente pode ser utilizado). Para que essas imagens possam ser exibidas para os voluntários é necessário que um pré-processamento seja feito. 

Um diagrama ilustrativo da metodologia utilizada pelo projeto ForestWatchers pode ser visto na Figura \ref{fig:estrutura_atual}.
\begin{figure}[htb]
\includegraphics[width=\textwidth,height=\textheight,keepaspectratio]{figuras/arquitetura_atual.png}
\caption{A metodologia utilizada pelo projeto ForestWatchers.}
\label{fig:estrutura_atual}
\FONTE{\citeonline{ForestWatchersDesc}}
\end{figure}

Primeiramente é necessário adquirir as imagens da NASA referentes à área de interesse do projeto. Para esse processo, ferramentas como FTP\footnote{\textit{File Transfer Protocol (FTP)} é um protocolo para transferência de arquivo utilizado na Internet para efetuar \textit{downloads} e \textit{uploads} de arquivos.}e WGET\footnote{WGET é um programa livre para efetuar \textit{download} de conteúdos na Internet.} são utilizadas para realizar os downloads necessários. A próxima etapa, envolve recortar as imagens que não são pertinentes à área de interesse, descartando-as e consolidando as imagens restantes num único arquivo GeoTIFF de 16 bits. Essa etapa pode ser executada rapidamente com o auxílio da ferramenta MODIS Reprojection Tool (MRT) \cite{MRToolManual2010}, um software gratuito disponibilizado pela NASA.

As imagens de 16 bits são convertidas para 8 bits por meio de um \textit{script} em Python\footnote{Python é uma linguagem de programação aberta.}. Logo após, uma única imagem é consolidada utilizando-se três bandas (infravermelho médio, vermelho, infravermelho próximo, equivalentes a vermelho, verde e azul) da imagem de 8 bits. Assim, essa imagem pode ser enviada para um servidor gerenciador de arquivos de mapa. Nesse projeto utiliza-se o MapServer (\url{http://www.mapserver.org}), responsável por tratar as requisições de inserção e seleção das imagens georreferenciadas, e de retornar apenas parte da imagem desejada na forma de \textit{tiles}. Todos os arquivos relacionados à imagem têm suas informações extraídas no formato GeoJSON\footnote{\textit{Geographic JavaScript Object Notation} é um formato para codificar variados tipos de estruturas geográficas.}, para facilitar a comunicação entre os outros módulos. O algoritmo de classificação (ainda em desenvolvimento) faz a segmentação das imagens, classificando-as como  áreas de floresta e de não-floresta. Existindo a necessidade de supervisão das imagens, serão criadas tarefas para os usuários poderem classificá-las visualmente.

O \citeonline{PyBossa2013} é o sistema responsável por gerenciar a criação e distribuição das tarefas automaticamente, conforme necessário. Esse é um sistema livre que permite um usuário criar e gerenciar projetos que requeiram cognição humana, tais como classificação de imagem, transcrição e geo-codificação. Esse sistema é baseado no \citeonline{Boinc2008}, plataforma online desenvolvida para facilitar a criação e a operação de projetos baseados em ciência cidadã. Essa nova implementação traz maiores benefícios em relação ao sistema original, Bossa, por ser desenvolvida em Python e possuir uma API\footnote{\textit{Application Programming Interface} (API) é um protocolo com o objetivo de servir como interface para os componentes de softwares, permitindo comunicarem entre si.} RESTful \cite{Richardson2008}. 

Com as tarefas criadas, os voluntários podem classificar as imagens de forma ordenada. O projeto, com o uso do sistema de redundância que envia a mesma tarefa para diferentes voluntários, garante um aumento na confiabilidade dos resultados \cite{Ipeirotis2010}.

\chapter{Metodologia}
\label{ch:metodologia}

O conceito de um módulo de sensoriamento voluntário consiste básicamente de \textbf{(a)} um dispositivo capaz de coletar dados, \textbf{(b)} estrutura de recebimento e armazenamento, e \textbf{(c)} um sistema de visualização dos dados obtidos \cite{VolunteerSensing2011,Gouveia2008}. 

Para a validação deste conceito o seguinte módulo foi construído em duas etapas. Um aplicativo híbrido, utilizado pelos voluntários para enviarem os dados coletados a partir de um dispositivo móvel. E uma infraestrutura tecnológica, divida em: uma camada de recebimento, armazenamento, processamento e visualização dos dados.

Este capítudo descreve a metodologia utilizada em cada etapa da construção do módulo, por fim, detalha o experimento de coleta de dados utilizado por este módulo.

\section{Aplicativos} % (fold)
\label{sub:aplicativos}

% Até o momento, a aplicação móvel é a única forma que os voluntários têm para submeter dados de coleta ao projeto.
Supondo que um vetor de coleta de dados de difícil acesso, com alta complexibilidade e desenvolvido com o único propósito de coletar dados ou construídos sobre demanda, sejam fatores inibidores, restringindo significantemente o número de possíveis voluntários comitidos com o projeto \cite{Lane2010}. Optou-se por utilizar uma aplicação desenvolvida para dispositivos móveis (smartphones e tablet). Hoje, a grande maioria possui um dispositivo móvel com capacidade de conectar-se a internet, tirar fotos, captar áudio e gravar vídeos. Com a popularização dos sensores embargados em dispositivos móveis e as expectativas de crescimento deste mercado \cite{Lane2010,Gartner2014}, utilizá-los como ferramenta para projetos de ciência cidadã parecem bastante sugestivas.

Foram criados quatro aplicativos como protótipos para testar suas funcionalidades e verificarem a sua significância em relação as necessidades do projeto: (i) um utilizando bibliotecas nativas, disponibilizadas pelos fabricantes de dispositivos móveis para criar novos aplicativos, como estes que são fácilmente encontrados nas lojas online de aplicativos; (ii)  dois aplicativos utilizando-se sistemas prontos ou de fácil uso para a criação da ferramenta de coleta de dados; e por fim, (iii) um utilizando uma abordagem de desenvolvimento de aplicativos híbrido, onde há uma biblioteca em comum entre os demais dispositivos existentes e necessitando de apenas uma linguagem de programação.

Cada fabricante de dispositivos móveis disponibiliza conjuntos de códigos a serem utilizados para desenvolver aplicativos, estes são conhecido por biblioteca, \textit{API} ou \textit{SDK}. A maioria dos fabricantes disponibilizam essas bibliotecas sem custos, porém, para poder publicar um aplicativo nas lojas online, alguns fabricantes requerem uma assinatura anual, Tabela \ref{tab:tabela_custo}.

Estas bibliotecas permitem desenvolver para diversos dispositivos do mesmo fabricante. Um exemplo, a fabricante Microsoft, permite criar aplicativos tanto para seus sistemas Desktop (Windows), quanto para aplicativos móveis (Windows Phone e Tablets), outras já são mais restritas e requer a aquisição de uma outra licença para produtos diferentes, como a Apple para Desktop e Smartphone, Tablet.

Na Tabela \ref{tab:tabela_custo}, as plataformas mostradas são referentes a pesquisa realizada por \citeonline{IDC:2014Q3}, onde aparecem somente as plataformas que foram mais consumidas de 2011 a 2014.

\begin{table}[htb]
\caption{My caption}
\label{tab:tabela_custo}
\centering
\resizebox{\textwidth}{!}{
\begin{tabular}{|l|l|l|c|}
\hline   Plataforma  & Dispositvos         & Linguagem  & Preço / Ano \\ %header
\hline   iOS (Apple)  &  Smartphones, Tablet     & C, Objective-C           & \$99        \\
            BlackBerry OS (RIM)  &  Smartphones   & Java           & \$00        \\
            Windows, Windows Phone (Microsoft)  &  Desktop, Smartphones, Tablet  & .NET                                               & \$19        \\
            Android (Google)  &  Acessórios, Desktop, Smartphones, Tablet  & Java                             & \$25       \\
\hline
\end{tabular}
}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5

\subsection{Aplicativo de Biblioteca Nativa} % (fold)
\label{ssub:aplicativo_com_biblioteca_nativa}

O primeiro aplicativo desenvolvido com protótipo foi criado para a plataforma Windows Phone da Microsoft por haver o conhecimento prévio da linguagem exígida para a programação deste e também a disponibilidade de um smartphone moder, o Nokia Lumia 800, lançado no final de 2011\footnote{\url{http://www.gsmarena.com/nokia_lumia_800-4240.php}}. Este aparelho possuí sensores de localização (GPS assistido), acelerômetro, bússola, proximidade, câmera de 8 megapixel com georeferenciamento, citando os principais. Um sensor de localização GPS assistido tem a iniciaização do seu serviço mais rápido do que um GPS convencional, pois pode utilizar informações de redes wireless ou 3G para obter um melhor posicionamento inicial. Acelerômetros permitem monitorar a inclinação do aparelho nos eixos X, Y e Z, sabendo assim qual a posição do celular ao capturar uma imagem e corrigir o posicionamento da bússola, para ter a direção correta da foto. Câmera com a habilidade de georeferenciamento permitem incluir informações geográficas no cabeçalho de uma imagem, vídeo ou áudio, assim que capturado e podendo posteriormente ser lido e compreendido por outros softwares através do padrão Exif \cite{JEITA2002}.

Um simples aplicativo foi então desenvolvido para capturar uma imagem utilizando a câmera do dispositivo, guardar as coordenadas geográficas através do georeferenciamento e enviá-las a um servidor, extraindo as informações necessárias, Figura \ref{fig:wp7}. 

\begin{figure}[htb]
\centering
\includegraphics[keepaspectratio,width=0.9\textwidth]{figuras/prot_app_01.png}
\caption{Windows Phone 7}
\label{fig:wp7}
\end{figure}

Ao enviar o único arquivo contendo apenas a imagem capturada para o servidor, todas as informações do cabeçalho do arquivo são extraídas e armazenadas em um banco de dados geográfico, utilizando  o formato GeoJSON \footnote{\url{http://geojson.org/}}, e a imagem armazenada em um diretório específico, para que possa ser rápidamente lido e exibido em uma página web. As primeiras imagens capturadas pelo aplicativo para validação do trabalho foram feitas de dentro do INPE em São José dos Campos. Uma página web foi criada para visualizar os resultados deste protótipo e com esta, um mapa do sistema Bing \footnote{\url{http://www.bing.com/maps/}} foi utilizado para mostrar os imagens captadas sobrepostas como pontos de interesse. Ao clicar no ícone de cada ponto de interesse, a imagem correspondente é exibida com as suas informações de identficação de imagem do banco de dados, coordenada geográfica, altitude, precisão e data de criação. 

Alguns problemas foram detectados no uso deste protótipo, o que inviabilizou o seu uso. Estes são:

\begin{itemize}
    \item \textbf{Precisão Geográfica}. Aparelhos smartphone, em geral, não informam o nível de precisão do georeferenciamento utilizado, tornando-o inviável. Erros de precisão de GPS pode ser na escala de Kilometros de distância do ponto original, smartphones que possuem esta funcionalidade podem não captar uma posição geográfica por alguma falha e o usuário só saberá posteriormente.
    \item \textbf{Georeferenciamento Automatizado}. Assim como não é possível determinar a precisão do georeferenciamento a priori, também é impossível prever se todas as mídias (áudio, vídeo, imagens) de um smartphone serão georeferenciadas automaticamente, uma vez que esta funcionalidade diverge conforme a plataforma. O dispositivo Lumia 800 possui somente imagens georeferenciadas, por exemplo.
    \item \textbf{Um Aplicativo por Plataforma}. Mesmo a Tabela \ref{tab:tabela_custo}, mostrar apenas as 4 principais plataformas de dispositivos móveis, há diversas outras plataformas. Em geral, cada plataforma necessita de um código-fonte de um aplicativo diferente, precisando adequar o aplicativo de sensoriamento voluntário em diversas linguagens. Uma vez, que um aplicativo desenvolvido para uma única plataforma, em teoria, teria menos voluntários engajados do que aplicativos desenvolvidos para mais de uma plataforma. Assim, este seria um ponto crítico para o desenvolvimento de aplicativos de sensoriamento voluntário.
\end{itemize}

\subsection{Aplicativo de Sistema Pronto} % (fold)
\label{ssub:aplicativo_de_sistema_pronto}

%%\afterpage{%
%%    \clearpage% Flush earlier floats (otherwise order might not be correct)
%%    \thispagestyle{empty}% empty page style (?)
%%    \begin{landscape}% Landscape page
{\centering
\begin{table}[htb]
     \label{tab:tipo_de_dados}
     \caption{Tipo de Dados Utilizados Pelo EpiCollect e EpiCollect+}
     \begin{center}
         \begin{tabular}{ p{2cm}  p{12cm}  }
             \toprule
              \tiny{Controle} & \tiny{Descrição} \\ 
            \cmidrule(lr){1-1}\cmidrule(l){2-2}
             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_text.png}}
                               &
              \tiny
                      Entrada de texto livre. Utilizado com maior frequência para responder perguntas feitas no formulário.
                                Opções:
                                
                                Rótulo. Exibição do texto como rótulo;
                                Obrigatório. O usuário deve informar este dado;
                                Numérico. Opção para tornar o campo númerico (EpiCollect).
                                
              \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_numeric.png}}
              & 
                                \tiny
                                Entrada de número. Para o EpiCollect, um campo de entrada de texto com a opção ``Numérico'' deve ser selecionado para ter a mesma função.
                                Opções:
                                
                                Rótulo. Exibição do texto como rótulo.
                                Obrigatório. O usuário deve informar este dado.
                                Decimal. Permitindo casas decimais.
                                Integer. Permitindo somente entrada de números inteiros.
                                Valor Máximo. Valor máximo permitido para este campo.
                                Valor Mínimo. Valor mínimo permitido para este campo.
                                Padrão. Valor padrão a ser específicado ao preencher o campo.
                                Entrada Dupla. O usuário deve entrar com o dado duas vezes para confirmar o seu valor.
                                
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_date.png}}
              & 
                                \tiny
                                Entrada de data. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                \\ 

                                \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_time.png}}
                                & 
                                \tiny
                                Entrada de Hora. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_dropdown.png}}
                                &
                                \tiny
                                Entrada de dados por seleção. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Esta entrada permite escolher um valor através de uma lista.
                                Opções:
                                
                                Rótulo. Exibição do texto como rótulo.
                                Obrigatório. O usuário deve informar este dado.
                                
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_radio.png}}
                                &
                                \tiny
                                Entrada de dados por seleção. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Esta entrada permite escolher um valor através de uma lista, mostrando todos ao mesmo tempo.
                                Opções:
                                
                                Rótulo. Exibição do texto como rótulo.
                                Obrigatório. O usuário deve informar este dado.
                                
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_checkbox.png}}
                                &
                                \tiny
                                Entrada de dados por seleção. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Esta entrada permite escolher múltiplos valores através de uma lista, mostrando todos ao mesmo tempo.
                                Opções:
                                
                                Rótulo. Exibição do texto como rótulo.
                                Obrigatório. O usuário deve informar este dado.
                                
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_multiline.png}}
                                &
                                \tiny
                                Entrada de texto.
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_location.png}}
                                &
                                \tiny
                                Entrada da coordenada geográfica. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Permte visualizar antes de salvar:
                                
                                A coordenada geográfica atual.
                                A altitude da coordenada atual.
                                A orientação captada pela GPS atua.
                                A precisão utilizada na captação dos dados acima.
                                
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_photo.png}}
                                &
                                \tiny
                                Entrada de foto. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Permite captar uma nova foto ou selecionar uma a partir da memória do dispositivo.
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_video.png}}
                                &
                                \tiny
                                Entrada de vídeo. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Permite captar uma nova vídeo ou selecionar uma a partir da memória do dispositivo.
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_audio.png}}
                                &
                                \tiny
                                Entrada de áudio. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Permite captar uma nova áudio ou selecionar uma a partir da memória do dispositivo.
                                \\ 

             \raisebox{-0.5\height}{\centering\includegraphics[scale=0.4]{figuras/epicollect/_input_barcode.png}}
                                &
                                \tiny 
                                Entrada de código de barra. Este dado não possui para a versão do EpiCollect, apenas para o versão EpiCollect+.
                                Permite decodificar um código de barra ou código QR.
                                \\ 

            \bottomrule
          \end{tabular}
      \end{center}
\end{table}
%%%\end{landscape}
%%%\clearpage% Flush page
%%%}
}

Com os problemas relatados anteriormente, buscou-se uma nova solução. Há diversos aplicativos que são desenvolvidos para uma determinada plataforma e posteriormente são migrados para uma outra plataforma, tornando-os multiplatafoma, com essa característica alguns aplicativos tornam-se poderosas ferramentas de coleta de dados, inclusive adicionando as informações de alguns dos sensores presentes no dispositivo. Estes utilizam formulários para guiar a coleta de dados, formulários que são construídos através de interfaces gráficas de fácil manipulação. Estes sistemas prontos são indicados para efetuar a criação aplicativos voltado para pesquisas ou coleta de dados de uma forma rápida, uma vez que estas possuem toda uma infraestrutura para armazenamento de dados e sua visualização.


EpiCollect+ é a segunda geração de um conhecido sistema pronto e possui diversos novos recurso do que a sua primeira geração \cite{Aanensen2009:epicollect}, como capturar imagens, vídeos, áudios, localização geográfica e leitura de código de barra. Este sistema é de fácil uso, bastando ter acesso a internet para definir um nome para o projeto, especificar a visibilidade do projeto se público ou privado, se este poderá aparecer na página da internet e criar um formulário (Figura \ref{fig:epicollect_formulario}).  

\begin{figure}[htb]
\centering
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/epicollect/03_FORM_ANTIGO.png}
\caption{Um formulário criado para o EpiCollect+, com a finalidade de capturar uma imagem, foto ou vídeo, com a data e hora de acqusição, a coordenada geográfica e algum comentário adicional. }
\label{fig:epicollect_formulario}
\end{figure}

Esta segunda geração do aplicativo possui mais tipos de dados do que o primeiro, conforme observado na Tabela \ref{tab:tipo_de_dados}.
% Este sistema possibilita criar diversos formulários para serem carregados posteriormente no dispositivo através do seu aplicativo. Existem 



%\begin{figure}[htb]
%\centering
%\includegraphics[keepaspectratio,valign=t,width=0.45\textwidth]{figuras/epicollect/01_PROJECT_EPICOLLECT.png}
%\hfill
%\includegraphics[keepaspectratio,valign=t,width=0.45\textwidth]{figuras/epicollect/02_DATA_VISIBILITY_EPICOLLECT.png}
%
%\includegraphics[keepaspectratio,width=0.45\textwidth]{figuras/epicollect/03_LISTING_ON_HOMEPAGE_EPICOLLECT.png}
%\caption{À esquerda, página apresentada para a criação de um novo projeto usando o EpiCollect+, opcionalmente pode ser informado um projeto do primeiro EpiCollect para transformá-lo em um novo. À direita,  escolha da visibilidade do projeto, se este poderá ser visível a todos ou se os usuários deverão cadastrar-se no projeto. Por último, a opção se o projeto poderá ser listado no site do EpiCollect+. }
%\label{fig:epicollect_novo_projeto}
%\end{figure}

Um simples formulário foi criado (Figura \ref{fig:epicollect_formulario}) para verificar a viabilidade do sistema. Os dados do formulário são interpretado pelo PyBossa na fase de avaliação \ref{fig:pybossa_pertinente}, onde outros voluntários classificam as diversas imagens como pertinente ao projeto (caso seja uma imagem de floresta, desmatamento...) ou não. Esta simples pergunta pode determinar o nível de comprometimento que um voluntário tem com o projeto, verificando se as imagens que este submete devem ser levados em consideração ou não.



\begin{figure}[htb]
\centering
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/_pertinencia.png}
\caption{Fase de avaliação utilizando o sistema PyBossa para verificar a pertinência da imagem em relação ao projeto.}
\label{fig:pybossa_pertinente}
\end{figure}

Uma vez que todos os dados sejam capturados e corretamente preenchidos, estes são salvos e o voluntário pode inserir um novo registro ou efetuar a sincronização com o servidor do EpiCollect+, caso ao contrário, pode a sincronização pode ser feita a critério do voluntário, mantendo os dados de forma off-line.

O administrador do projeto pode verificar os dados online (Figura \ref{fig:epicollect_dados_online}) e usá-los localmente após baixar os arquivos em csv, tsv ou xml, dependendo da necessidade.

\begin{figure}[htb]
\centering
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/epicollect/05_ALL_EPICOLLECT_DATA.png}
\caption{Os dados são mantidos nos servidores do EpiCollect+ para uso do administrador do projeto. }
\label{fig:epicollect_dados_online}
\end{figure}

Apesar de apresentar melhores soluções para coletar diferentes tipos de dados, diferentemente da sua primeira versão o EpiCollect+ possui apenas aplicativo para a plataforma Android. Não justificando a hipótese supracitada no início da seção \ref{sub:aplicativos}, onde aplicativos criados somente para uma plataforma são fatores inibidores e atraem menos voluntários. Assim como EpiCollect+, o aplicativo Sensr tem a mesma função de criar formulários online e através do seu aplicativo utilizá-los como ferramenta de pesquisa. Porém ambos são desenvolvidos pra uma única plataforma, o primeiro para Android e o segundo para iOS.

\subsection{Aplicativo de Biblioteca Híbrida} % (fold)
\label{ssub:aplicativo_com_biblioteca_hibrida}

Em 1991 o primeiro website foi criado, feito realizado por Berners-Lee em 1991 \cite{berners1992world}. Estima-se que em setembro de 2014 o número de website existentes chegou a marca de 1 bilhão \cite{InternetLiveStats:2015}, (Figura \ref{fig:internetlivestats}). 

\begin{figure}[htb]
\begin{center}
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/internetlivestats.png} 
\end{center}
\caption{Evolução do número de websites criados desde 1991 à 2013. À direita é possível notar a criação dos websites mais reconhecidos.}
\FONTE{\citeonline{InternetLiveStats:2015}}
\label{fig:internetlivestats}
\end{figure}

Os websites evoluíram, deixaram de ser simples páginas estáticas e passaram a ser mais dnâmica, permitindo interações com diversos usuários ao mesmo tempo, efetuar pagamento, realizar pesquisas e atualizar conteúdo de forma simples. Estas novas funcionalidades só foram alcançadas através de grandes evoluções das tecnologias empregadas no começo da \textit{World Wide Web}. Existem diversas tecnologias de servidores para exibir um website com conteúdo dinâmico, como PHP, .NET, Python, etc. HTML\footnote{XHTML é uma variante do HTML} e CSS são as duas principais tecnologias para a construção de uma página, o HTML define a estrutura da página e permite o uso de fotos, formulários, links, vídeos, áudios, tabelas, etc. CSS descreve o layout da página com cores, posições e fontes. Uma página também pode utilizar \textit{scripts}, o mais conhecido JavaScript, e torná-la mais expressiva, dando dinamicidade ao seu conteúdo, como validações e até mesmo a carregamento de conteúdo dinâmico, uma vez em conjunto com alguma outra tecnologia de servidor web. 

HTML, CSS e JavaScript são conhecidos por serem os pilares para uma página moderna. Estes são padronizados por \textit{World Wide Web Consortium} (W3C), criado por Berners-Lee em 1994, este consórcio é constituído por quase 400 membros, com empresas, órgãos governamentais e organizações independentes, todos com a finalidade de estabelecer padrões para a criação e a interpretação de conteúdos para a Web. Sem a existência destes padrões, haveriam diversas navegadores para a internet, cada um interpretando uma determinada página diferente do outro, tendo que o usuário trocar de navegador a cada nova navegação.

O desenvolvimento de aplicativos utilizando bibliotecas nativas são mais comuns, por poderem usufruir de todas as funcionalidades oferecidas pelos fabricantes de dispositivos móveis e também por serem mais rápidos \cite{Charland:2011:Mobile}. Entretando esta forma de desenvolvimnto de aplicativos pode não ser vantajoso para um desenvolvedor que busca alcançar o máximo de pessoas possível, para isto o aplicativo teria que ser desenvolvido em todas as plataformas possíveis (a Tabela \ref{tab:tabela_custo} mostra apenas as mais populares dos últimos anos), contando que desenvolvedor conheça todas as linguagens de programação a serem utilizadas pelas bibliotecas nativas, disponibilizadas pelos fornecedores. Assim, alguns aplicativos são mais melhores se desenvolvidos para a web, utilizando HTML,CSS e JavaScript. Grandes empresas, por exemplo, que precisam fornecer interfaces móveis das suas aplicações internas para que seus funcionários possam acessá-las fora do escritório, teriam que recorrer a primeira forma de desenvolvimento de aplicativos para poder atender a todos. (ver Figura \ref{fig:developerforce}) 

\begin{figure}[ht]
\begin{center}
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/developerforce_chart.png} %8.5
\end{center}
\caption{Aplicativos móveis podem ser desenvolvidos de três formas: com biblioteca Nativa (plataforma única); HTML5 (multi-plataforma e capacidade parcial); e Híbrida (multi-plataforma e capacidade total). Adaptada de \cite{Korf2013}.}
\label{fig:developerforce}
\end{figure}

Todos plataformas permitem que um desenvolvedor instancie um navegador dentro da sua aplicação de forma que este passe a se comportar como uma nova tela nativa da aplicação, ainda permite a interalção de códigos nativos através da utilização de JavaScript. Esta técnica foi utilizada pela primeira vez por Eric Oesterle, Rob Ellis, e Brock Whitten para a plataforma iOS, depois sendo portado para outras plataformas \cite{Charland:2011:Mobile}. O framework de código aberto para o desenvolvimento de aplicativos híbridos conhecido por PhoneGap foi fruto desta técnica, em 2011 a empresa Adobe\footnote{\url{http://www.adobe.com}} adquiriu a criadora deste framework, Nitobi, mantendo-o como código aberto \cite{Adobe:Nitobi:2011}. O PhoneGap então foi doado para a Fundação de Software Apache sobre o nome de Apache Cordova\footnote{\url{http://cordova.io/}} o propósito deste é para manter o código sempre aberto e em constante desenvolvimento \cite{PhoneGap:FAQ:2015}.

A relação de PhoneGap e Cordova pode parecer confuso, porém a adobe esclarece que o PhoneGap é apenas uma distribuição livre do cordova, geralmente logo na versão mais atualizada deste último.

Na sua versão mais atual, PhoneGap 4.0.0, existem mais de nove plataformas suportadas\footnote{\url{http://cordova.apache.org/contribute}}, algumas das princiais pode ser visto na Figura \ref{fig:phonegap_platforms}. Entre estas estão presentes as plataformas citadas na Tabela \ref{tab:tabela_custo}. As principais funcionalidades que possam ser encontradas nas bibliotecas nativas são encontradas no PhoneGap (ver Fig. \ref{fig:phonegap_platforms}), a partir da versão 3.0 e superior, o PhoneGap oferece estas funcionalidades através de plugin, na página do projeto Cordova. 

\begin{figure}[ht]
\begin{center}
\includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/phonegap_platforms.png}
\end{center}
\caption{Plataformas e funionalidades suportadas pela versão 4.0.0 do PhoneGap. As funcionalidades com um asterisco são suportadas através de \textit{plugins} de terceiros.}
\label{fig:phonegap_platforms}
\end{figure}

Estes plugins permitem que apenas as funcionalidades desejadas sejam integradas ao aplicativo, sem a necessidade de haver todas as funcionalidades e algumas sem uso, mas esta não é a única vantagem desse novo sistema de plugins. Desta forma é possível manter o desenvolvimento de uma aplicação modular, tendo diversos plugins em diversas aplicações cada qual com diferentes versões. Portanto, não há mais a necessidade de atualizar todo o conjunto, apenas atualizar o plugin necessário e para a versão necessária. 

Um plugin refere-se a uma funcionalidade específica do dispositvo a ser encapsulado por um código Javascript para sua utilização pelo framework PhoneGap. Em termos de Programação Orientada a Objetos, a biblioteca Javascript deste framework tem a funcionalidade de uma interface, na qual são definidas as chamadas a métodos que serão utilizado. A implementação destas funcionalidades são feitas a nível de plataforma, de modo que cada qual saiba como obter a funcionalidade desejada pela interface que a envocou, Figura \ref{fig:phonegap_layers}.

\begin{figure}[ht]
\begin{center}
\includegraphics[scale=0.8]{figuras/layers.png}
\end{center}
\caption{A partir da versão 3.0, o framework PhoneGap vem utilizando plugins para adicionar diversas funcionalidades aos aplicativos. A camada de visualização é composta por HTML5 e CSS, enquanto a camada lógica é composta pelo javascript do framework.}
\label{fig:phonegap_layers}
\end{figure}

Diversos novos plugins podem ser desenvolvidos cobrindo novas funcionalidades, novos sensores e para novas plataformas. O PhoneGap mantém 19 plugins para as funcionalidades de bateria, câmera e áudio, GPS e sensores de movimento, conexão, contatos, dispositivo, arquivos e armazenamento, notificação e transferência de arquivos (ver Fig. \ref{fig:phonegap_platforms}) . Porém, na página oficial\footnote{\url{http://plugins.cordova.io}}, podem ser encontrados outros 678 diferentes plugins, alguns executando funcionalidades semelhantes e outros ampliando as plataformas suportadas.

% \begin{figure}[ht]
% \begin{center}
% \includegraphics[keepaspectratio,width=0.7\textwidth]{figuras/cordova_plugins_page.png}
% \end{center}
% \caption{.}
% \label{fig:cordova_plugins_page}
% \end{figure}

Para o projeto foi criado um aplicativo híbrido com o framework PhoneGap. Este aplicativo utilizou jQueryMobile (jQM)\footnote{\url{http://jquerymobile.com/}} para construir a interface gráfica. jQM é um framework baseado em HTML5, CSS e JavaScript para construir interfaces gráficas para dispostivos móveis. Junto com este framework, utilizou-se a bilbioteca KnockoutJS\footnote{\url{http://knockoutjs.com/}}, um framework baseado em JavaScript para o uso de padrões de projeto do tipo \textit{Model-View-ViewModel} (MVVM).

O aplicativo, Figura \ref{fig:app_phonegap}, é capaz de capturar imagem, vídeo e áudio, em conjunto adquirir dados dos sensores de localização (GPS) e orientação (bússola). Este aplicativo foi desenvolvido para permitir que no momento da captura dos dados de localização e orientação, o usuário pudesse verificar o nível de precisão dos dados coletados e, se necessário, captar novamente.

\begin{figure}[htb]
\centering
\includegraphics[width=0.7\textwidth]{figuras/dev_app04.png}
% \hfill
% \includegraphics[keepaspectratio,width=0.485\textwidth]{captura.eps}
\caption{;}
\label{fig:app_phonegap}
\end{figure}

Os dados captados por este aplicativo são em geral dados dos sensores de localização (GPS), orientação (bússola), informações do dispositivo e informações do arquivo capturado. Estes dados podem ser verificados na Tabela \ref{tab:dados_captados}, onde as principais propriedades são listadas. Dados sobre a configuração de cada sensor também são armazenados, mas apenas para referência. Diversos outros dados poderiam ser captados, mas para um primeiro protótipo apenas estes foram utilizados.

% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
% \usepackage{graphicx}
\begin{table}[h]
\centering
\caption{My caption}
\label{tab:dados_captados}
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Contexto}    & \textbf{Propriedade} & \textbf{Descrição}                         \\ \midrule
\textbf{}            &                      &                                            \\
\textbf{Entrada}     & Nome do Arquivo      & Nome do arquivo gerado                     \\
\textbf{}            & Caminho do Arquivo   & Local do armazenamento do arquivo          \\
\textbf{}            &                      &                                            \\
\textbf{Bússola}     & Norte Verdadeiro     & Valor captado do Norte Verdadeiro          \\
\textbf{}            & Norte Magnético      & Valor captado do Norte Magnético           \\
\textbf{}            & Posição              & Uma posição, seguindo a rosas do vento     \\
\textbf{}            & Seleção Manual       & Posição selecionada por sensor ou manual   \\
\textbf{}            & Precisão             & Valor da precisão captada                  \\
\textbf{}            &                      &                                            \\
\textbf{GPS}         & Latitude             & Posição geográfica da paralela horizontal  \\
\textbf{}            & Longitude            & Posição geográfica da paralela horizontal  \\
\textbf{}            & Precisão             & Valor da precisão captada                  \\
\textbf{}            & Altura               & Altura registrada pelo sensor              \\
\textbf{}            & Precisão da Altura   & Valor da precisão da altura quando captada \\
\textbf{}            & Direção              & Direção sugerida pelo sensor               \\
\textbf{}            & Velocidade           & Velocidade sugerida pelo sensor            \\
\textbf{}            &                      &                                            \\
\textbf{Dispositivo} & UUID                 & Número de identificação único              \\
\textbf{}            & Versão               & Versão do sistema operacional              \\
\textbf{}            & Cordova              & Versão do cordova                          \\
\textbf{}            & Plataforma           & Plataforma utilizada                       \\
\textbf{}            & Modelo               & Modelo utilizado                           \\ \bottomrule
\end{tabular}
}
\end{table}

A sincronização dos dados entre dispositivo e servidor não precisam ocorrer ao mesmo tempo em que as entradas são captadas, pensando que muitas vezes quem irá utilizar o aplicativo estará em lugares remotos, as informações captadas são mantidas apenas no dispositvo para uma sincronização futura e de preferência através do WiFi, uma vez que arquivos de vídeos podem ser bem maiores do que uma foto. 

O conjunto de entradas é armazenado no dispositivo através do plugin de armazenamento interno, que permite persistir objetos no formato JSON. Estes dados permanecerão no dispositov até que o usuário escolha a opção de remover as entradas, caso este já tenha sincronizado os dados com o servidor. A estrutura de uma única entrada é exibida no Código \ref{json:estrutura_imagem}. 

\begin{lstlisting}[language=json,firstnumber=1,float,floatplacement=h, caption={Estrutura JSON para envio de um arquivo de imagem.}, label={json:estrutura_imagem},captionpos=b]
{
  "entry": {
      "picture": {
      "filename" : "",
      "filepath" :  ""
    },
    "compass": {
      "magneticHeading": "",
      "trueHeading": "",
      "orientation": "",
      "useManual": "",
      "accuracy" : "",
    },
    "gps": {
      "latitude": "",
      "longitude": "",
      "accuracy": "",
      "altitude": "",
      "altitudeAccuracy": "",
      "heading": "",
      "speed": ""
    },
    "options": {
      "gpsOptions": {
        "enableHighAccuracy": "",
        "maximumAge": "",
        "timeout": ""
      },
      "compassOptions": {
        "frequency": "",
        "enabled": ""
      },
      "pictureOptions": {
        "quality": ""
      }
    }
  },
  "device": {
    "uuid": "",
    "version": "",
    "cordova": "",
    "platform": "",
    "model": ""
  }
}
\end{lstlisting}



\section{Infraestrutura Tecnológica} % (fold)
\label{sub:infraestrutura_tecnologica}

A infraestrutura tecnológica para receber, armazenar e exibir os dados coletados pelos voluntários utilizou-se de tecnologias de código-aberto para a sua construção com a finalidade de obter-se uma plataforma de distribuição livre juntamente com seu código fonte, podendo ser enriquecido por outros trabalhos.

\subsection{Servidor para Internet} % (fold)
\label{sub:servidor_web}

Duas são as principais tecnologias por trás deste projeto: a primeira o aplicativo para dispositivos móveis, responsável por coletar os dados dos voluntários; a segunda o servidor para internet, responsável por receber os dados coletados pelos voluntários, armazená-los adequadamente e exíbi-los quando solicitados.

Para a construção da aplicação web foi utilizado um pequeno framework criado em Python para construir páginas, aplicações e serviços para a internet, Flask\footnote{\url{http://flask.pocoo.org/}}. Este pequeno framework permite a construção de soluções para internet de forma rápida por possuir um grande repositório de extensões.

Utilizando Flask foi possível desenvolver um servidor \textit{back-end} responsável por receber os dados enviados pelos voluntários e ao mesmo tempo um servidor \textit{front-end} responsável por mostrar os dados recebidos no formato de uma página web, a interface da plataforma.

\subsubsection{Back-End} % (fold)
\label{ssub:back_end}

O principal meio de comunicação com servidores web é através do protocolo \textit{Hypertext Transfer Protocol} (HTTP), em português Protocolo de Transferência de Hipertexto, este funciona por meio de requisição e resposta, como cliente e servidor. Um usuário que deseja visualizar uma página da internet está fazendo uma requisição ao servidor para obter o conteúdo desejado, isto é feito de forma automática através do navegador. 

Uma página, definida pelo URI \url{http://www.inpe.br/pos_graduacao/cursos/cap/index.php}, é um recurso do servidor \url{www.inpe.br}. Para obter este recurso é necessário efetuar uma requisição (Código \ref{http:inpe_request}) junto ao servidor, uma vez que este recurso seja encontrado uma resposta (Código \ref{http:inpe_response}) é retornada, com informações em seu cabeçalho e, caso possua, um corpo de resposta. Por este recurso ser uma página web, o \textit{Content-Type} é do tipo text/html, com essa informação o navegador pode renderizar a página de forma adequada.

\begin{lstlisting}[language=json,firstnumber=1, caption={Requisição HTTP.}, label={http:inpe_request},captionpos=b]
GET /pos_graduacao/cursos/cap/index.php HTTP/1.1
Host: www.inpe.br
Accept: text/html,application/xhtml+xml
Accept-Encoding: gzip, deflate, sdch
Accept-Language: en-US,en;q=0.8,pt-BR;q=0.6,pt;q=0.4
\end{lstlisting}

% float,floatplacement=H, 
\begin{lstlisting}[language=json,firstnumber=1,float, caption={Resposta HTTP.}, label={http:inpe_response},captionpos=b]
HTTP/1.1 200 OK
Server: Apache/2.2.3 (CentOS)
X-Powered-By: PHP/5.1.6
Content-Type: text/html; charset=iso-8859-1
\end{lstlisting}

Este é o princípio do serviço web conhecido por \textit{Representational State Transfer} (REST), em português Transferência de Estado, onde o serviço é estilo arquitetural baseado no protocolo HTTP projetado para utilizar um conjunto de operações bem definidas utilizando os principais métodos HTTP (Tabela \ref{tab:metodos_http}), um protocolo cliente-servidor sem estado, um Identificador Uniforme de Recursos (URI) para um determinado objeto e transferência de dados, podendo utilizar o formato JSON.

% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
% \usepackage{graphicx}
\begin{table}[h]
\centering
\caption{My caption}
\label{tab:metodos_http}
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lll@{}}
\toprule
Método HTTP & Descrição da Ação                                                             & Exemplo de Função                                                                                                             \\ \midrule
GET         & \begin{tabular}[t]{@{}l@{}}Obter informações \\ sobre um recurso\end{tabular} & \begin{tabular}[t]{@{}l@{}}http://servidor.com/imagens\\ (listar todas as imagens)\end{tabular}                                \\
GET         & \begin{tabular}[t]{@{}l@{}}Obter informações \\ sobre um recurso\end{tabular} & \begin{tabular}[t]{@{}l@{}}http://servidor.com/imagem/10\\ (listar a imagem de \\ identificação \#10)\end{tabular}             \\
POST        & Criar um novo recurso                                                         & \begin{tabular}[t]{@{}l@{}}http://servidor.com/imagens\\ (criar um novo objeto imagem)\end{tabular}                            \\
PUT         & Atualizar um recurso                                                          & \begin{tabular}[t]{@{}l@{}}http://servidor.com/imagem/10\\ (atualizar os dados da imagem\\ de identificação \#10)\end{tabular} \\
DELETE      & Deletar um recurso                                                            & \begin{tabular}[t]{@{}l@{}}http://servidor.com/imagem/10\\ (deletar o objeto imagem \\ de identificação \#10)\end{tabular}     \\ \bottomrule
\end{tabular}
}
\end{table}

As operações que cada método HTTP executa utilizando REST são equivalentes as operaçãoes de um banco de dados, como selecionar, inserir, atualizar e deletar.

O método \textit{GET} tem a responsabilidade de retornar os recursos solicitados e pode ser utilizando tanto de forma geral, solicitando diversos recursos de uma só vez (em geral, este URI encontra-se no plural) ou de forma específica, informando uma identifacação única do recurso. Ao invocar o método \textit{POST} e informando detalhes do objeto, um novo recurso é criado com essas informações (em geral, este URI encontra-se no plural). Os métodos \textit{PUT} e \textit{DELETE} exercem a função de atualizar os dados e deletá-los, respectivamente. No primeiro, os dados são informados no corpo da requisição, forma semelhante ao método \textit{POST}.

REST é apenas um estilo arquitetural para receber ou enviar dados. Assim, tem-se que o meio de comunicação ao servidor deste projeto é dado através do protocolo HTTP, mesmo protocolo utilizado para requisições de páginas da internet. Porém, para armazenar os dados, ainda é necessário ter um banco de dados. 

Como a principal característica deste projeto é permitir georeferenciar dados coletados em in situ, um banco geográfico é requerido, optou-se por utilizar o banco de dados de código-aberto PostgreSQL\footnote{\url{http://www.postgresql.org/}}. Este banco de dados oferece meios para adicionar entidades geográficas através da extensão PostGIS\footnote{\url{http://postgis.org/}}. Bancos geográficos possuem funções especiais para tratar este tipo de entidade, permitindo efetuar buscas tendo como parâmetro uma posição geográfica.

Cada propriedade, demonstrada no Código \ref{json:estrutura_imagem}, que é captarada pelo voluntário utilizando o aplicativo híbrido descrito na Seção \ref{ssub:aplicativo_com_biblioteca_hibrida} foi devidamente mapeada no banco de dados, como visto na Figura \ref{fig:moduledb}.

\begin{figure}[htb]
\centering
\includegraphics[width=0.9\textwidth]{figuras/moduledb.png}
\caption{;}
\label{fig:moduledb}
\end{figure}

Assim, o serviço web desenvolvido utilizando Flask permite usar os principais métodos do protocolo HTTP, através do estilo arquitetural REST, para tratar as solicitações dos dados, conforme Tabela \ref{tab:rest_prototipo}.

% Please add the following required packages to your document preamble:
% \usepackage{booktabs}
% \usepackage{graphicx}
\begin{table}[h]
\centering
\caption{My caption}
\label{tab:rest_prototipo}
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lll@{}}
\toprule
Método HTTP & Descrição da Ação                                                                       & Recurso                                                                                                                                                              \\ \midrule
GET         & \begin{tabular}[t]{@{}l@{}}Obter informações sobre\\ um ou vários recursos\end{tabular} & \begin{tabular}[t]{@{}l@{}}/api/\{recursos\}\\ (onde \{recursos\} pode ser \\ 'pictures', 'videos' ou 'audios')\end{tabular}                                         \\
GET         & \begin{tabular}[t]{@{}l@{}}Obter informações sobre\\ um ou vários recursos\end{tabular} & \begin{tabular}[t]{@{}l@{}}/api/\{recurso\}/\#id\\ (onde \{recurso\} pode ser \\ 'picture', 'video' ou 'audio'\\ e \#id é a identificação do\\ recurso)\end{tabular} \\
PUT         & \begin{tabular}[t]{@{}l@{}}Atualizar informações\\  de um recurso\end{tabular}          & \begin{tabular}[t]{@{}l@{}}/api/\{recurso\}/\#id\\ (onde \{recurso\} pode ser \\ 'picture', 'video' ou 'audio'\\ e \#id é a identificação do\\ recurso)\end{tabular} \\
DELETE      & \begin{tabular}[t]{@{}l@{}}Deletar a informação\\  de um recurso\end{tabular}           & \begin{tabular}[t]{@{}l@{}}/api/\{recurso\}/\#id\\ (onde \{recurso\} pode ser \\ 'picture', 'video' ou 'audio'\\ e \#id é a identificação do\\ recurso)\end{tabular}
\end{tabular}
}
\end{table}

Um serviço web REST permite envio de arquivos para o servidor de três formas:
\begin{enumerate}
    \item Utilização de Base64. Onde o arquivo é codificado para uma string de 64 caracteres para ser enviado na requisição.
    \item multipart/form-data e metadata. Utilizar um formulário, \textit{FormData}\footnote{\url{https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects}}, para enviar apenas os arquivos necessários e aguardar o retorno URI deste arquivo gerado e utilizar o método \textit{PUT} para atualizar as informações deste.
    \item metatada e multipart/form-data. Método semelhante ao mencionado acima, porém primeiro é enviado as informações do arquivo e um URI é aguardado, uma veste este retornado o arquivo é encaminhado com a identificação do URI.
\end{enumerate}

Apesar destas 3 formas estarem corretas tratando-se de uma arquitetura REST, estas apresentam algumas desvantagens. O primeiro, eleva o tamanho do arquivo que poderia ser trafegado pela rede, podendo chegar a mais 33\% do tamanho original. O segundo e terceiro, esperam um retorno do servidor para continuar o envio, o que eleva quantidade de tranferências necessárias.

Assim, constatou-se que enviar um arquivo pelo método tradicional, no contexto web, através de \textit{FormData} onde arquivos e uma estrutura de chave e valores são informados. Esta estrutura de chave e valores tem que ser padronizados, para que o servidor web que recebe a requisição possa saber quais as chaves estão sendo enviadas e quais são necessárias. Os valores de cada chave são os objetos JSON propriamente codificados. 

Portanto, uma vez que a uma requisição de envio de imagens seja feita ao servidor do projeto, é esperado um formulário \textit{multipart/form-data} com o arquivo utilizando \textit{FormData} e as informações através de chave e valores de um formulário padrão\footnote{\url{https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\#Submitting_forms_and_uploading_files}}.

\subsubsection{Front-End} % (fold)
\label{ssub:front_end}

\subsection{Armazenamento} % (fold)
\label{sub:armazenamento}


\section{Coleta de Dados} % (fold)
\label{sub:coleta_de_dados}






\chapter{Resultados e Discussões}
\label{ch:resultados}

\section{Conclusões e Trabalhos Futuros}
\label{ch:conclusoes}